(function(t){function e(e){for(var o,n,c=e[0],l=e[1],r=e[2],d=0,g=[];d<c.length;d++)n=c[d],i[n]&&g.push(i[n][0]),i[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(g.length)g.shift()();return a.push.apply(a,r||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],o=!0,c=1;c<s.length;c++){var l=s[c];0!==i[l]&&(o=!1)}o&&(a.splice(e--,1),t=n(n.s=s[0]))}return t}var o={},i={app:0},a=[];function n(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=o,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0672":function(t,e,s){"use strict";var o=s("3171"),i=s.n(o);i.a},"27d9":function(t,e,s){},"2a8d":function(t,e,s){},"2b9d":function(t,e,s){},"2c96":function(t,e,s){"use strict";var o=s("27d9"),i=s.n(o);i.a},3171:function(t,e,s){},"37f6":function(t,e,s){},"3cd0":function(t,e,s){},"41d3":function(t,e,s){"use strict";var o=s("2b9d"),i=s.n(o);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("7f7f"),s("cadf"),s("551c"),s("f751"),s("097d");var o,i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view"),t.showNav?s("van-tabbar",{staticClass:"footer",attrs:{route:""}},[s("van-tabbar-item",{attrs:{replace:"",to:"/home",icon:"home-o"}},[t._v("首页")]),s("van-tabbar-item",{attrs:{replace:"",to:"/classify",icon:"shop-o"}},[t._v("分类")]),s("van-tabbar-item",{attrs:{replace:"",to:"/cart",icon:"shopping-cart-o"}},[t._v("购物车")]),s("van-tabbar-item",{attrs:{replace:"",to:"/user",icon:"user-o"}},[t._v("我的")])],1):t._e()],1)},n=[],c={data:function(){return{}},computed:{showNav:function(){return"home"==this.$route.name||("classify"==this.$route.name||("cart"==this.$route.name||"user"==this.$route.name))}},created:function(){var t=localStorage.getItem("token");t&&this.$store.commit("token",t)}},l=c,r=(s("5c0b"),s("2877")),u=Object(r["a"])(l,a,n,!1,null,null,null),d=u.exports,g=s("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("Head",{attrs:{title:"首页"}}),s("MySwiper"),s("shouyeFL")],1)},m=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-swipe",{staticClass:"my-img",attrs:{autoplay:2e3,"indicator-color":"white"}},[s("van-swipe-item",[s("router-link",{attrs:{to:"/goodslist"}},[s("img",{attrs:{src:"https://i1.ygimg.cn/pics/mobile/homepage/2019/06/1561458490647.jpg",alt:""}})])],1),s("van-swipe-item",[s("router-link",{attrs:{to:"/goodslist"}},[s("img",{attrs:{src:"https://i1.ygimg.cn/pics/mobile/homepage/2019/06/1561456552125.jpg",alt:""}})])],1)],1)],1)},f=[],v=(s("2c96"),{}),b=Object(r["a"])(v,h,f,!1,null,"3792614a",null),_=b.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"my-img cl"},t._l(t.list,function(t,e){return s("li",{key:e,staticClass:"cl"},[s("img",{staticClass:"li-img",attrs:{src:t,alt:""}})])}),0),s("h3",{staticClass:"rmfl"},[t._v("热门分类")]),s("ul",{staticClass:"my-fl cl"},t._l(t.list2,function(t,e){return s("li",{key:e,staticClass:"cl"},[s("router-link",{attrs:{to:"/goodslist"}},[s("img",{attrs:{src:t,alt:""}})])],1)}),0),s("ul",{staticClass:"my-logo cl"},t._l(t.list3,function(t,e){return s("li",{key:e,staticClass:"cl"},[s("router-link",{attrs:{to:"/goodslist"}},[s("img",{attrs:{src:t,alt:""}})])],1)}),0)])},y=[],k={data:function(){return{list:["https://i1.ygimg.cn/pics/mobile/homepage/2019/01/1547706860219.png","https://i1.ygimg.cn/pics/mobile/homepage/2019/01/1547706864808.png","https://i1.ygimg.cn/pics/mobile/homepage/2019/01/1547706869505.png","https://i1.ygimg.cn/pics/mobile/homepage/2019/01/1547706876310.png"],list2:["https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695636962.jpg","https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695652280.jpg","https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695666109.jpg","https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695715581.jpg","https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695920850.jpg","https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695924311.jpg","https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695938978.jpg","https://i1.ygimg.cn/pics/mobile/homepage/2019/05/1558695935356.jpg"],list3:["https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253123662.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253140328.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253162890.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253177953.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253203264.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253220254.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253238961.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253257853.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253273217.png","https://i1.ygimg.cn/pics/mobile/homepage/2018/09/1537253289009.png"]}}},w=k,x=(s("90ab"),Object(r["a"])(w,C,y,!1,null,"05d6a144",null)),j=x.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-nav-bar",{attrs:{title:t.title,"left-text":t.back,"left-arrow":t.show},on:{"click-left":t.onClickLeft}},[t.searchShow?s("van-icon",{staticClass:"search",attrs:{slot:"right",name:"search"},on:{click:t.onClickRight},slot:"right"}):t._e()],1)],1)},O=[],S={data:function(){return{searchShow:!0}},props:{title:String,show:Boolean,back:String},methods:{onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){this.$router.push({name:"search"})}},mounted:function(){"goodsDetail"==this.$route.name?this.searchShow=!1:"user"==this.$route.name?this.searchShow=!1:"search"==this.$route.name?this.searchShow=!1:"cart"==this.$route.name&&(this.searchShow=!1)}},L=S,z=(s("e408"),Object(r["a"])(L,$,O,!1,null,"36ed8578",null)),I=z.exports,N={name:"home",components:{MySwiper:_,Head:I,shouyeFL:j}},T=N,E=Object(r["a"])(T,p,m,!1,null,null,null),P=E.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Head",{attrs:{title:"分类",show:!0}}),s("div",{staticClass:"cl my-div"},[s("van-sidebar",{staticClass:"content-left",attrs:{"active-key":t.activeKey},on:{change:t.onChange}},t._l(t.data,function(e,o){return s("van-sidebar-item",{key:o,attrs:{title:e},on:{click:function(s){return t.getTitle(e)}}})}),1),s("div",{staticClass:"content-right"},[s("ClassifyList",{attrs:{"goods-title":t.goodstitle}})],1)],1)],1)},D=[],A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-div"},t._l(t.list,function(e,o){return s("div",{key:o},[s("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(e.firstLevel.name))]),s("ul",t._l(e.firstLevel.secondLevel,function(o,i){return s("div",{key:i},[e.firstLevel.name==t.goodsTitle?s("li",{staticClass:"cl"},[s("p",{staticClass:"my-title"},[t._v(t._s(o.name))]),t._l(o.thirdLevel,function(e,o){return s("div",{key:o,staticClass:"my-goods",on:{click:function(e){return t.toGoodsList()}}},[s("img",{staticClass:"my-img",attrs:{src:e.image,alt:""}}),s("p",{staticClass:"my-p"},[t._v(t._s(e.name))])])})],2):t._e()])}),0)])}),0)},B=[],q={data:function(){return{list:[]}},props:["goodsTitle"],methods:{showList:function(){var t=this;this.$axios.post("/list/classify",{}).then(function(e){var s=e.data.data;t.list=s})},toGoodsList:function(){this.$router.push("/goodslist")}},mounted:function(){this.showList()}},M=q,R=(s("41d3"),Object(r["a"])(M,A,B,!1,null,"375f6b92",null)),F=R.exports,G={data:function(){return{activeKey:0,goodstitle:"",data:["全部品牌","女鞋","男鞋","运动","户外","童鞋童装"]}},components:{ClassifyList:F,Head:I},methods:{onChange:function(t){this.activeKey=t},getTitle:function(t){this.goodstitle=t}},mounted:function(){this.goodstitle="全部品牌"}},K=G,U=(s("0672"),Object(r["a"])(K,H,D,!1,null,"212aacbc",null)),J=U.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart"},[s("Head",{attrs:{title:"购物车",show:!1}}),s("div",{staticClass:"cell-height"},[t._l(t.list,function(e,o){return[s("div",{key:o,staticClass:"cell"},[s("i",{staticClass:"iconfont choice",class:[e.chosen?"icon-xuanzhong1":"icon-icon-test"],on:{click:function(s){return t.chooseItem(e,o)}}}),s("div",{staticClass:"imgzong"},[s("img",{staticClass:"img1",attrs:{src:e.goodsImg}})]),s("div",{staticClass:"cart1"},[s("div",{staticClass:"name"},[t._v(t._s(e.goodsName))]),s("div",{staticClass:"item-color"},[t._v("颜色:"+t._s(e.goodsColor))]),s("div",{staticClass:"item-size"},[t._v("尺码:"+t._s(e.goodsSize))]),s("div",{staticClass:"cart2"},[s("div",{staticClass:"price"},[t._v("￥"+t._s(e.goodsPrice))]),s("div",{staticClass:"num"},[s("van-button",{attrs:{type:"info",size:"mini",disabled:1==e.goodsNum},on:{click:function(s){return t.decrease(e,o)}}},[t._v("-")]),s("span",[t._v(t._s(e.goodsNum))]),s("van-button",{attrs:{type:"info",size:"mini"},on:{click:function(s){return t.increase(e,o)}}},[t._v("+")])],1),s("span",{staticClass:"del",on:{click:function(s){return t.delItem(e,o)}}},[s("i",{staticClass:"iconfont icon-icon-text-fn-delete"})])])])])]})],2),s("div",{staticClass:"bottom"},[s("div",{staticClass:"choice"},[s("i",{staticClass:"iconfont choice",class:[t.isAll?"icon-xuanzhong1":"icon-icon-test"],on:{click:t.chooseAll}}),s("span",[t._v("全选")])]),s("p",[s("span",[t._v("合计:")]),s("span",{staticClass:"total"},[t._v("￥"+t._s(t.goodsTotals))])]),s("van-button",{staticClass:"delAll",attrs:{plain:"",round:"",type:"danger"},on:{click:t.delAll}},[t._v("批量删除")]),s("van-button",{staticClass:"pay",attrs:{plain:"",round:"",type:"danger"},on:{click:t.pay}},[t._v("结算")])],1),t.list.length?t._e():s("div",[s("div",{staticClass:"kong"},[s("img",{staticClass:"tu",attrs:{src:"http://ku.90sjimg.com/element_origin_min_pic/00/89/50/8656eda2e5cf049.jpg"}}),s("p",[t._v("您的购物车空空如也")]),s("a",{staticClass:"tu1",on:{click:t.getInput}},[s("span",[t._v("去购物")])])])])],1)},V=[],W=(s("ac4d"),s("8a81"),s("ac6a"),s("cebc")),X=s("d399"),Y=s("2f62"),Z={data:function(){return{list:[],goodsTotals:0}},components:{Head:I},computed:Object(W["a"])({isAll:{get:function(){return this.list.length&&this.list.filter(function(t){return t.chosen}).length==this.list.length},set:function(t){this.list=this.list.map(function(e){return e.chosen=t,e})}}},Object(Y["b"])(["token"])),methods:{getInput:function(){this.$router.push("/classify")},reqCartList:function(){var t=this;return this.$axios.post("/user/cart/list",{token:this.token}).then(function(e){var s=e.data,o=s.code,i=s.msg,a=s.list;1==o?t.list=a:Object(X["a"])(i)})},updateCart:function(t,e){var s=this;return this.$axios.post("/user/cart/update",{id:t._id,goodsNum:t.goodsNum,goodsTotal:t.goodsTotal}).then(function(o){var i=o.data,a=i.code,n=i.msg;1==a?(s.list.splice(e,1,t),s.getTotal()):alert(n)})},increase:function(t,e){t.goodsNum++,t.goodsTotal=t.goodsNum*t.goodsPrice,this.updateCart(t,e)},decrease:function(t,e){t.goodsNum--,t.goodsTotal=t.goodsNum*t.goodsPrice,this.updateCart(t,e)},getTotal:function(){var t=0,e=!0,s=!1,o=void 0;try{for(var i,a=this.list[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var n=i.value;1==n.chosen&&(t+=n.goodsNum*n.goodsPrice)}}catch(c){s=!0,o=c}finally{try{e||null==a.return||a.return()}finally{if(s)throw o}}this.goodsTotals=t},chooseItem:function(t,e){t.chosen=!t.chosen,this.list.splice(e,1,t),this.getTotal()},chooseAll:function(){this.isAll=!this.isAll,this.getTotal()},reqDelCart:function(){},delItem:function(t,e){var s=this;this.$axios.post("/user/cart/del",{token:this.token,ids:[t._id]}).then(function(t){var o=t.data,i=o.code,a=o.msg;1==i?(s.list.splice(e,1),s.getTotal(),Object(X["a"])(a)):Object(X["a"])(a)})},delAll:function(){var t=this,e=this.list.filter(function(t){return t.chosen});if(e.length){var s=e.map(function(t){return t._id});this.$axios.post("/user/cart/del",{token:this.token,ids:s}).then(function(e){var s=e.data,o=s.code,i=s.msg;if(1==o){for(var a=t.list,n=0;n<a.length;n++)a[n].chosen&&(a.splice(n,1),n--);Object(X["a"])(i),t.getTotal()}else Object(X["a"])(i)})}else Object(X["a"])("请选择商品")},pay:function(){var t=this.list.filter(function(t){return t.chosen});t.length?Object(X["a"])("没有后续逻辑了"):Object(X["a"])("请选择商品")},onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){this.$router.push("/goodslist")},getDetail:function(){var t=!0,e=!1,s=void 0;try{for(var o,i=this.list[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a["chosen"]=!1}}catch(n){e=!0,s=n}finally{try{t||null==i.return||i.return()}finally{if(e)throw s}}this.getTotal()}},created:function(){var t=this;this.reqCartList().then(function(){t.getDetail()})}},tt=Z,et=(s("8e29"),Object(r["a"])(tt,Q,V,!1,null,"21e5e9fb",null)),st=et.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Head",{attrs:{title:"个人中心",show:!0}}),s("div",{attrs:{id:"my_btn"}},[s("div",{staticClass:"username"},[s("van-button",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"my-login",attrs:{type:"danger"},on:{click:t.goLogin}},[t._v("登陆/注册")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],staticClass:"my-user"},[s("div",{staticClass:"welcome"},[t._v("欢迎登录:"+t._s(t.username))]),s("van-button",{staticClass:"exit",attrs:{round:"",type:"danger",size:"small"},on:{click:t.goExit}},[t._v("退出")])],1)],1),t._m(0)]),t._m(1),t._m(2),t._m(3)],1)},it=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"iconBtn"},[s("i",{staticClass:"iconfont icon-shezhi"}),s("i",{staticClass:"iconfont icon-daohangpingjia"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-dingdan"},[s("i",{staticClass:"iconfont icon-jiantou"}),s("p",[t._v("我的定单")]),s("div",{staticClass:"dingdan"},[s("p",[s("i",{staticClass:"iconfont icon-qianbao"}),s("span",[t._v("待付款")])]),s("p",[s("i",{staticClass:"iconfont icon-wuliu"}),s("span",[t._v("查看物流")])]),s("p",[s("i",{staticClass:"iconfont icon-daipingjia"}),s("span",[t._v("待评价")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-dingdan"},[s("i",{staticClass:"iconfont icon-jiantou"}),s("p",[t._v("我的钱包")]),s("div",{staticClass:"dingdan"},[s("p",[s("span",[t._v("0")]),s("span",[t._v("礼品卡")])]),s("p",[s("span",[t._v("0")]),s("span",[t._v("优惠券")])]),s("p",[s("span",[t._v("0")]),s("span",[t._v("积分")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shoucang"},[s("div",{staticClass:"dingdan"},[s("p",[s("i",{staticClass:"iconfont icon-aixin"}),s("span",[t._v("收藏/关注")])]),s("p",[s("i",{staticClass:"iconfont icon-liulanjilu"}),s("span",[t._v("浏览记录")])]),s("p",[s("i",{staticClass:"iconfont icon-bangzhu"}),s("span",[t._v("帮助中心")])]),s("p",[s("i",{staticClass:"iconfont icon-drxx66"}),s("span",[t._v("意见反馈")])])]),s("div",{staticClass:"dingdan"},[s("p",[s("i",{staticClass:"iconfont icon-huiyuan"}),s("span",[t._v("会员中心")])]),s("p",[s("i",{staticClass:"iconfont icon-jifentixicopy"}),s("span",[t._v("积分商城")])]),s("p",[s("i",{staticClass:"iconfont icon-meiriqiandao"}),s("span",[t._v("每日签到")])]),s("p",[s("i",{staticClass:"iconfont icon-kefu-tianchong"}),s("span",[t._v("联系客服")])])])])}],at={data:function(){return{username:"",flag:!1}},components:{Head:I},methods:{goLogin:function(){this.$router.push({name:"login"})},getUserInfo:function(t){var e=this;this.$axios.post("/user/info",{token:t}).then(function(t){var s=t.data,o=s.code,i=s.msg,a=s.username;1==o?(e.username=a,e.$store.commit("username",a)):alert(i)}).catch(function(t){return console.log(t)})},goExit:function(){localStorage.removeItem("token"),location.reload()}},mounted:function(){var t=localStorage.getItem("token");t&&this.getUserInfo(t),this.flag=!t}},nt=at,ct=(s("5d86"),Object(r["a"])(nt,ot,it,!1,null,"3aed3b92",null)),lt=ct.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-container"},[s("Head",{attrs:{title:"列表",show:!0}}),s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},[s("ul",{staticClass:"list"},t._l(t.list,function(e,o){return s("li",{key:o,on:{click:function(s){return t.toDetail(e._id)}}},[s("div",[s("img",{attrs:{src:e.imgs}})]),s("p",[t._v(t._s(e.title))]),s("p",[t._v("¥ "+t._s(e.price))])])}),0)])],1)},ut=[],dt={data:function(){return{allLoaded:!1,list:[],page:1}},components:{Head:I},methods:{loadTop:function(){var t=this;this.$axios.post("/list/goodslist",{pageNum:1}).then(function(e){var s=e.data.list;t.list=s,t.page=1,t.$refs.loadmore.onTopLoaded(),t.allLoaded=!1})},loadBottom:function(){var t=this,e=this.page+1;this.$axios.post("/list/goodslist",{pageNum:e}).then(function(s){var o=s.data.list;o.length?(t.list=t.list.concat(o),t.page=e):t.allLoaded=!0,t.$refs.loadmore.onBottomLoaded()})},toDetail:function(t){this.$router.push({name:"goodsDetail",params:{goodId:t}})}},mounted:function(){this.loadTop()}},gt=dt,pt=(s("f72d"),Object(r["a"])(gt,rt,ut,!1,null,"17d1591b",null)),mt=pt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Head",{attrs:{title:"搜索",show:!0}}),s("van-search",{attrs:{placeholder:"请输入搜索关键词","show-action":"",shape:"round"},on:{search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[s("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[t._v("搜索")])]),s("ul",{staticClass:"list"},t._l(t.goods,function(e,o){return s("li",{key:o,on:{click:function(s){return t.toDetail(e._id)}}},[s("div",[s("img",{attrs:{src:e.imgs}})]),s("p",[t._v(t._s(e.title))]),s("p",[t._v("¥ "+t._s(e.price))])])}),0)],1)},ft=[],vt={data:function(){return{value:"",goods:[]}},components:{Head:I},methods:{onSearch:function(){var t=this;this.$axios.post("/list/search",{keyword:this.value}).then(function(e){t.goods=e.data.data})},toDetail:function(t){this.$router.push({name:"goodsDetail",params:{goodId:t}})}}},bt=vt,_t=(s("f267"),Object(r["a"])(bt,ht,ft,!1,null,"ed54dca6",null)),Ct=_t.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Head",{attrs:{title:"商品详情",show:!0}}),s("div",{staticClass:"goods"},[s("van-swipe",{staticClass:"goods-swipe",attrs:{autoplay:3e3}},t._l(t.goods.thumb,function(e){return s("van-swipe-item",{key:e},[s("img",{attrs:{src:t.good.imgs}})])}),1),s("van-cell-group",[s("van-cell",[s("div",{staticClass:"goods-title"},[t._v(t._s(t.good.title))]),s("div",{staticClass:"goods-price"},[t._v(t._s(t.formatPrice(t.good.price)))])]),s("van-cell",{staticClass:"goods-express"},[s("van-col",{attrs:{span:"10"}},[t._v("运费："+t._s(t.goods.express))]),s("van-col",{attrs:{span:"14"}},[t._v("销量："+t._s(t.good.payNum))])],1)],1),s("van-cell-group",{staticClass:"goods-cell-group"},[s("van-cell",{attrs:{value:"进入店铺",icon:"shop-o","is-link":""},on:{click:t.sorry}},[s("template",{slot:"title"},[s("span",{staticClass:"van-cell-text"},[t._v(t._s(t.good.shopNick))]),s("van-tag",{staticClass:"goods-tag",attrs:{type:"danger"}},[t._v("官方")])],1)],2)],1),s("van-cell-group",{staticClass:"goods-cell-group"},[s("van-cell",{attrs:{title:"请选择商品规格","is-link":""},on:{click:t.flagShow}},[t._v(t._s(t.select1)+" "+t._s(t.size1))])],1),s("van-goods-action",[s("van-goods-action-icon",{attrs:{icon:"chat-o"},on:{click:t.sorry}},[t._v("客服")]),s("van-goods-action-icon",{attrs:{icon:"cart-o"},on:{click:t.onClickCart}},[t._v("购物车")]),s("van-goods-action-button",{attrs:{type:"warning"},on:{click:t.addCart}},[t._v("加入购物车")]),s("van-goods-action-button",{attrs:{type:"danger"},on:{click:t.sorry}},[t._v("立即购买")])],1)],1),s("div",{staticClass:"cl"},[s("van-action-sheet",{staticClass:"info",attrs:{title:"请选择商品规格"},model:{value:t.showinfo,callback:function(e){t.showinfo=e},expression:"showinfo"}},[s("div",{staticClass:"info-div cl"},[s("img",{staticClass:"info-img",attrs:{src:t.good.imgs,alt:""}}),s("p",{staticClass:"info-price"},[t._v("¥"+t._s(t.good.price))]),s("p",{staticClass:"info-color"},[t._v("已选:"+t._s(t.select1)+" "+t._s(t.size1))])]),s("div",{staticClass:"goods-color cl"},[s("div",{staticClass:"goods-yanse"},[t._v("颜色")]),s("ul",{staticClass:"color cl"},t._l(t.select,function(e,o){return s("li",{key:o,staticClass:"item2",on:{click:function(s){return t.selectColor(e,s)}}},[t._v(t._s(e.color))])}),0)]),s("div",{staticClass:"info-size"},[s("div",{staticClass:"goods-size"},[t._v("尺码")]),s("ul",{staticClass:"size cl"},t._l(t.size,function(e,o){return s("li",{key:o,staticClass:"item",on:{click:function(s){return t.selectSize(e,s)}}},[t._v(t._s(e.txt))])}),0)])])],1)],1)},kt=[],wt=s("bd86"),xt=s("a3e2"),jt=s("9ffb"),$t=s("ad06"),Ot=s("7744"),St=s("34e9"),Lt=s("5596"),zt=s("2bb1"),It=s("bb33"),Nt=s("7713"),Tt=s("82a8"),Et=s("2241"),Pt={components:(o={},Object(wt["a"])(o,xt["a"].name,xt["a"]),Object(wt["a"])(o,jt["a"].name,jt["a"]),Object(wt["a"])(o,$t["a"].name,$t["a"]),Object(wt["a"])(o,Ot["a"].name,Ot["a"]),Object(wt["a"])(o,St["a"].name,St["a"]),Object(wt["a"])(o,Lt["a"].name,Lt["a"]),Object(wt["a"])(o,zt["a"].name,zt["a"]),Object(wt["a"])(o,It["a"].name,It["a"]),Object(wt["a"])(o,Nt["a"].name,Nt["a"]),Object(wt["a"])(o,Tt["a"].name,Tt["a"]),Object(wt["a"])(o,"Head",I),o),computed:Object(W["a"])({},Object(Y["b"])(["username"])),data:function(){return{goodId:this.$route.params.goodId,good:{},goods:{title:"美国伽力果（约680g/3个）",price:2680,express:"免运费",remain:19,thumb:["https://img.yzcdn.cn/public_files/2017/10/24/e5a5a02309a41f9f5def56684808d9ae.jpeg","https://img.yzcdn.cn/public_files/2017/10/24/1791ba14088f9c2be8c610d0a6cc0f93.jpeg"]},showinfo:!1,select:[{color:"黑色"},{color:"红色"},{color:"白色"},{color:"灰色"}],size:[{txt:"32"},{txt:"33"},{txt:"34"},{txt:"35"},{txt:"36"},{txt:"37"},{txt:"38"},{txt:"39"}],size1:"",select1:"",num:1}},methods:{flagShow:function(){this.showinfo=!0},formatPrice:function(){return"¥"+(100*this.good.price/100).toFixed(2)},onClickCart:function(){this.$router.push("cart")},sorry:function(){Object(X["a"])("暂无后续逻辑~")},selectColor:function(t,e){this.select1=t.color;for(var s=document.getElementsByClassName("item2"),o=0;o<s.length;o++)s[o].style="border:1px #aaa solid";e.target.style.border="1px #f00 solid"},selectSize:function(t,e){this.size1=t.txt;for(var s=document.getElementsByClassName("item"),o=0;o<s.length;o++)s[o].style="border:1px #aaa solid";e.target.style.border="1px #f00 solid"},addCart:function(){var t=this,e=localStorage.getItem("token");e?this.select1&&this.size1?this.$store.dispatch("myAction",{goodsId:this.goodId,goodsName:this.good.title,goodsPrice:this.good.price,goodsImg:this.good.imgs,goodsNum:this.num,goodsColor:this.select1,goodsSize:this.size1}).then(function(e){var s=e.data,o=s.code,i=s.msg;1==o?Et["a"].confirm({title:"标题",message:"加入购物车成功，是否进入购物车列表"}).then(function(){t.$router.push("/cart")}).catch(function(){}):alert(i)}):this.showinfo=!0:confirm("还未登录，是否进入登录界面")&&this.$router.push("login")}},created:function(){var t=this;this.$axios.post("/list/getGoodOne",{goodId:this.goodId}).then(function(e){t.good=e.data.data,t.show=!0})}},Ht=Pt,Dt=(s("dd95"),Object(r["a"])(Ht,yt,kt,!1,null,null,null)),At=Dt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[s("van-nav-bar",{attrs:{title:"登录","left-text":"返回","right-text":"注册","left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),s("van-cell-group",{staticClass:"cell"},[s("van-field",{attrs:{placeholder:"请输入用户名",label:"用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("van-field",{attrs:{placeholder:"请输入密码",label:"密码"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),s("van-button",{attrs:{round:"",type:"danger",size:"large"},on:{click:t.login}},[t._v("登录")])],1)],1)},qt=[],Mt={data:function(){return{username:"",pwd:""}},methods:{onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){this.$router.push({name:"register"})},login:function(){var t=this,e=this.username,s=this.pwd;this.$axios.post("/user/login",{username:e,pwd:s}).then(function(e){var s=e.data,o=s.msg,i=s.code,a=s.token;1==i?(localStorage.setItem("token",a),t.$store.commit("token",a),Object(X["a"])(o),t.$router.push({name:"user"})):Object(X["a"])(o)}).catch(function(t){return console.log(t)})}}},Rt=Mt,Ft=(s("a230"),Object(r["a"])(Rt,Bt,qt,!1,null,"154e129c",null)),Gt=Ft.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("van-nav-bar",{attrs:{title:"注册","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),s("van-cell-group",{staticClass:"cell"},[s("van-field",{attrs:{placeholder:"请输入用户名",label:"用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("van-field",{attrs:{placeholder:"请输入手机号",label:"手机"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),s("van-field",{attrs:{placeholder:"请输入密码",label:"密码"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),s("van-button",{attrs:{round:"",type:"danger",size:"large"},on:{click:t.register}},[t._v("注册")])],1)],1)},Ut=[],Jt={data:function(){return{username:"",mobile:"",pwd:""}},methods:{onClickLeft:function(){this.$router.go(-1)},register:function(){var t=this,e=this.username,s=this.mobile,o=this.pwd;console.log(e,s,o),this.$axios.post("/user/register",{username:e,mobile:s,pwd:o}).then(function(e){var s=e.data;1==s.code&&t.$router.push({name:"login"}),Object(X["a"])(s.msg)})}}},Qt=Jt,Vt=Object(r["a"])(Qt,Kt,Ut,!1,null,null,null),Wt=Vt.exports;i["default"].use(g["a"]);var Xt=new g["a"]({mode:"hash",base:"/",routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:P},{path:"/cart",name:"cart",component:st},{path:"/classify",name:"classify",component:J},{path:"/user",name:"user",component:lt},{path:"/goodslist",name:"goodslist",component:mt},{path:"/search",name:"search",component:Ct},{path:"/goodsDetail",name:"goodsDetail",component:At},{path:"/login",component:Gt,name:"login"},{path:"/register",component:Wt,name:"register"}]}),Yt=s("bc3a"),Zt=s.n(Yt);i["default"].use(Y["a"]);var te=new Y["a"].Store({state:{token:"",username:null},mutations:{token:function(t,e){t.token=e},username:function(t,e){t.username=e}},actions:{token:function(t,e){var s=t.commit;s("token",e)},myAction:function(t,e){var s=t.state;return Zt.a.post("/user/cart/add",{token:s.token,goodsId:e.goodsId,goodsNum:e.goodsNum,goodsName:e.goodsName,goodsPrice:e.goodsPrice,goodsImg:e.goodsImg,goodsColor:e.goodsColor,goodsSize:e.goodsSize})}}}),ee=s("76a0"),se=s.n(ee),oe=(s("aa35"),s("b970"));s("157a");i["default"].config.productionTip=!1,i["default"].use(se.a),i["default"].component(ee["Loadmore"].name,ee["Loadmore"]);var ie="";i["default"].prototype.$commonUrl=ie,Zt.a.interceptors.request.use(function(t){return ee["Indicator"].open("Loading..."),t.url=ie+t.url,t.data=t.data||{},t.data.token=te.state.token,t},function(t){return Promise.reject(t)}),Zt.a.interceptors.response.use(function(t){return ee["Indicator"].close(),t},function(t){return Promise.reject(t)}),i["default"].prototype.$axios=Zt.a,i["default"].use(oe["a"]),new i["default"]({router:Xt,store:te,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var o=s("5e27"),i=s.n(o);i.a},"5d86":function(t,e,s){"use strict";var o=s("88cf"),i=s.n(o);i.a},"5e27":function(t,e,s){},7204:function(t,e,s){},"88cf":function(t,e,s){},"8e29":function(t,e,s){"use strict";var o=s("37f6"),i=s.n(o);i.a},"90ab":function(t,e,s){"use strict";var o=s("b8cc"),i=s.n(o);i.a},"9aec":function(t,e,s){},a230:function(t,e,s){"use strict";var o=s("e529"),i=s.n(o);i.a},b8cc:function(t,e,s){},dd95:function(t,e,s){"use strict";var o=s("3cd0"),i=s.n(o);i.a},e408:function(t,e,s){"use strict";var o=s("7204"),i=s.n(o);i.a},e529:function(t,e,s){},f267:function(t,e,s){"use strict";var o=s("9aec"),i=s.n(o);i.a},f72d:function(t,e,s){"use strict";var o=s("2a8d"),i=s.n(o);i.a}});
//# sourceMappingURL=app.50a8c72c.js.map